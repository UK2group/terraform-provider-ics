---
page_title: "Ingenuity Cloud Services Provider"
subcategory: ""
description: |-
  Terraform provider for managing Ingenuity Cloud Services bare metal infrastructure.
---

# Ingenuity Cloud Services Provider

The ICS (Ingenuity Cloud Services) provider allows you to manage bare metal servers and SSH keys on the Ingenuity Cloud Services platform.

## Features

- **Ultra-Simple Interface**: Just specify `instance_type`, `location`, and `operating_system` - the provider handles everything else
- **Automatic Validation**: Real-time validation with helpful error messages showing available alternatives
- **Zero Discovery Required**: No need for data sources or complex lookups - just specify what you want
- **Comprehensive Error Messages**: Clear guidance when combinations aren't available
- **Automatic Provisioning**: Polls for up to 30 minutes waiting for server provisioning to complete
- **Simplified Billing**: Automatically uses hourly billing for easy cleanup and testing
- **Optional Data Sources**: Available for discovery if needed, but not required for basic usage

## Example Usage

```terraform
terraform {
  required_providers {
    ics = {
      source = "UK2Group/ingenuitycloudservices"
    }
  }
}

provider "ics" {
  # API token can be set via ICS_API_TOKEN environment variable
  # or specified directly:
  # api_token = "your-api-token-here"
}

# Create an SSH key
resource "ics_ssh_key" "example" {
  label      = "my-deployment-key"
  public_key = file("~/.ssh/id_rsa.pub")
}

# Create a bare metal server
resource "ics_bare_metal_server" "example" {
  instance_type    = "c1.small"
  location         = "NYC1"
  operating_system = "Ubuntu 24.04"
  hostname         = "my-server"
  friendly_name    = "My Test Server"
  ssh_key_labels   = [ics_ssh_key.example.label]
}

# Output server details
output "server_ip" {
  value = ics_bare_metal_server.example.public_ip
}

output "root_password" {
  value     = ics_bare_metal_server.example.root_password
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `api_token` (String, Sensitive) The API token for Ingenuity Cloud Services. Can also be set via the ICS_API_TOKEN environment variable.
- `base_url` (String) The base URL for the ICS API. Defaults to https://api.ingenuitycloudservices.com

## Authentication

The provider requires an API token to authenticate with the ICS API. You can provide the token in two ways:

### Environment Variable (Recommended)

```bash
export ICS_API_TOKEN="your-api-token-here"
```

### Provider Configuration

```terraform
provider "ics" {
  api_token = "your-api-token-here"
}
```

## Resources

- [ics_bare_metal_server](resources/bare_metal_server.md) - Manages bare metal servers
- [ics_ssh_key](resources/ssh_key.md) - Manages SSH keys for server access

## Data Sources

- [ics_inventory](data-sources/inventory.md) - Retrieves available server inventory
- [ics_operating_systems](data-sources/operating_systems.md) - Retrieves available operating systems

## Getting Your API Token

To obtain an API token:

1. Log in to your ICS control panel
2. Navigate to the API section
3. Generate a new API token
4. Set it as the `ICS_API_TOKEN` environment variable

## Support

For issues and questions:

- GitHub Issues: https://github.com/UK2Group/terraform-provider-ics/issues
- Documentation: https://registry.terraform.io/providers/UK2Group/ingenuitycloudservices/latest/docs
