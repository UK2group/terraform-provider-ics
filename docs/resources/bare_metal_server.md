---
page_title: "ics_bare_metal_server Resource - ingenuitycloudservices"
subcategory: ""
description: |-
  Manages a bare metal server on Ingenuity Cloud Services.
---

# ics_bare_metal_server (Resource)

Manages a bare metal server with automatic validation of instance types, locations, and operating systems.

## Example Usage

```terraform
# Basic server configuration
resource "ics_bare_metal_server" "example" {
  instance_type    = "c1.small"
  location         = "NYC1"
  operating_system = "Ubuntu 24.04"
  hostname         = "my-server"
  friendly_name    = "My Test Server"
}

# Server with SSH keys
resource "ics_ssh_key" "my_key" {
  label      = "my-deployment-key"
  public_key = file("~/.ssh/id_rsa.pub")
}

resource "ics_bare_metal_server" "with_ssh" {
  instance_type    = "c1.medium"
  location         = "FRA1"
  operating_system = "Debian 12"
  hostname         = "production-server"
  ssh_key_labels   = [ics_ssh_key.my_key.label]
}

# Output server details
output "server_ip" {
  value = ics_bare_metal_server.example.public_ip
}

output "root_password" {
  value     = ics_bare_metal_server.example.root_password
  sensitive = true
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `instance_type` (String) Instance type (e.g., 'c1.small', 'c1.medium'). The provider will automatically validate availability and inventory.
- `location` (String) Location code (e.g., 'NYC1', 'FRA1'). The provider will automatically validate inventory availability for this location.
- `operating_system` (String) Operating system name (e.g., 'Ubuntu 24.04', 'Debian 12', 'CentOS 8'). The provider will automatically validate availability for the specified instance type and location.

### Optional

- `friendly_name` (String) Friendly name for the server
- `hostname` (String) Hostname for the server
- `ssh_key_labels` (List of String) List of SSH key labels to add to the server. The SSH keys must already exist.

### Read-Only

- `datacenter_id` (Number) Datacenter identifier
- `datacenter_name` (String) Datacenter name
- `id` (String) Server identifier
- `location_id` (Number) Location identifier
- `plan_id` (Number) Plan identifier
- `public_ip` (String) Public IP address
- `root_password` (String, Sensitive) Root password for the server
- `server_type` (String) Server type
- `service_description` (String) Service description
- `service_id` (Number) Service identifier

## Import

Bare metal servers can be imported using the service ID:

```shell
terraform import ics_bare_metal_server.example 12345
```

## Behavior

### Automatic Validation

The provider automatically validates:
- Instance type exists and is available
- Inventory availability in the specified location
- Operating system availability for the instance type and location combination

If any validation fails, the provider will return a helpful error message showing available alternatives.

### Provisioning

After ordering, the provider waits up to 30 minutes for the server to be provisioned. If provisioning takes longer, the operation times out but the server order may still complete. You can check the ICS control panel or run `terraform refresh` to update the state.

### Billing

All servers are automatically configured with hourly billing for easy cleanup and testing.

### Updates

- `friendly_name`: Can be updated in-place
- All other attributes: Require resource replacement (destroy and recreate)
